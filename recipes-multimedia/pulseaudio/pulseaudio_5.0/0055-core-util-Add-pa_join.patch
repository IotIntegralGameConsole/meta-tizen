From: Tanu Kaskinen <tanu.kaskinen@linux.intel.com>
Date: Wed, 26 Mar 2014 13:15:12 +0200
Subject: core-util: Add pa_join()

Change-Id: I84ac0ee7a3097fce8ed9bad26b210fc97db9e9a7
Signed-off-by: Jaska Uimonen <jaska.uimonen@intel.com>
---
 src/pulsecore/core-util.c | 18 ++++++++++++++++++
 src/pulsecore/core-util.h |  1 +
 2 files changed, 19 insertions(+)

diff --git a/src/pulsecore/core-util.c b/src/pulsecore/core-util.c
index 1256a1e..508b3d3 100644
--- a/src/pulsecore/core-util.c
+++ b/src/pulsecore/core-util.c
@@ -1120,6 +1120,24 @@ char *pa_split_spaces(const char *c, const char **state) {
     return pa_xstrndup(current, l);
 }
 
+char *pa_join(const char * const *strings, unsigned n_strings, const char *delimiter) {
+    pa_strbuf *buf;
+    unsigned i;
+
+    pa_assert(strings || n_strings == 0);
+
+    buf = pa_strbuf_new();
+
+    for (i = 0; i < n_strings; i++) {
+        if (i > 0 && delimiter)
+            pa_strbuf_puts(buf, delimiter);
+
+        pa_strbuf_puts(buf, strings[i]);
+    }
+
+    return pa_strbuf_tostring_free(buf);
+}
+
 PA_STATIC_TLS_DECLARE(signame, pa_xfree);
 
 /* Return the name of an UNIX signal. Similar to Solaris sig2str() */
diff --git a/src/pulsecore/core-util.h b/src/pulsecore/core-util.h
index e6cb261..aba1863 100644
--- a/src/pulsecore/core-util.h
+++ b/src/pulsecore/core-util.h
@@ -108,6 +108,7 @@ static inline const char *pa_strna(const char *x) {
 char *pa_split(const char *c, const char*delimiters, const char **state);
 const char *pa_split_in_place(const char *c, const char*delimiters, int *n, const char **state);
 char *pa_split_spaces(const char *c, const char **state);
+char *pa_join(const char * const *strings, unsigned n_strings, const char *delimiter);
 
 char *pa_strip_nl(char *s);
 char *pa_strip(char *s);
